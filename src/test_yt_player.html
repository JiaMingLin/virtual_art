<!DOCTYPE html>
<html>
<head>
  <script type="text/javascript", src="https://www.youtube.com/iframe_api"></script>
</head>
  <body>
    <!-- 1. The <iframe> (and video player) will replace this <div> tag. -->
    <!-- <div id="player"></div> -->

    <script>
      

      // // 2. This code loads the IFrame Player API code asynchronously.
      // var tag = document.createElement('script');

      // tag.src = "https://www.youtube.com/iframe_api";
      // var firstScriptTag = document.getElementsByTagName('script')[0];
      // firstScriptTag.parentNode.insertBefore(tag, firstScriptTag);

      // 3. This function creates an <iframe> (and YouTube player)
      //    after the API code downloads.

      var player_div = document.createElement('div');
      player_div.id='player';
      document.body.appendChild(player_div);

      var player;
      function onYouTubeIframeAPIReady() {
        player = new YT.Player(player_div.id, {
          height: '390',
          width: '640',
          videoId: 'yVDdJQVuCag',
          events: {
            'onStateChange': function(event){
              console.log(event.data);
              console.log(event.target.getVideoEmbedCode());
              if (event.data == YT.PlayerState.PLAYING) {
                fullScreen(player_div.id);
              }else if(event.data == YT.PlayerState.PAUSED){
                exitFullscreen();
              }
            }
          }
        }); 
      }

           

      // 5. The API calls this function when the player's state changes.
      //    The function indicates that when playing a video (state=1),
      //    the player should play for six seconds and then stop.
      function onPlayerStateChange(event) {

        console.log(event.data);
        console.log(event.target.getVideoEmbedCode());
        if (event.data == YT.PlayerState.PLAYING) {
          fullScreen();
        }else if(event.data == YT.PlayerState.PAUSED){
          exitFullscreen();
        }

      }

      function fullScreen(id) {
         var e = document.getElementById(id);
         if (e.requestFullscreen) {
            e.requestFullscreen();
         } else if (e.webkitRequestFullscreen) {
            e.webkitRequestFullscreen();
         } else if (e.mozRequestFullScreen) {
            e.mozRequestFullScreen();
         } else if (e.msRequestFullscreen) {
            e.msRequestFullscreen();
         }
      }

      function exitFullscreen() {
        if(document.exitFullscreen) {
         document.exitFullscreen();
        } else if(document.mozCancelFullScreen) {
          document.mozCancelFullScreen();
        } else if(document.webkitExitFullscreen) {
          document.webkitExitFullscreen();
        }
      }

      function stopVideo() {
        player.stopVideo();
      }
    </script>
  </body>
</html>
